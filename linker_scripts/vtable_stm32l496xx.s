// These instructions define attributes of our chip and
// the assembly language we'll use:
.syntax unified
.cpu cortex-m4
.fpu softvfp
.thumb

.global vtable
.global default_interrupt_handler

// vector table
.type vtable, %object
.section .vector_table,"a",%progbits
vtable:
  // 0
  .word _estack
  .word reset_handler
  .word nmi_handler
  .word hardfault_handler
  .word memmanage_handler
  .word busfault_handler
  .word usagefault_handler
  .word 0
  .word 0
  .word 0
  .word 0
  .word svc_handler
  .word debugmon_handler
  .word 0
  .word pendsv_handler
  .word systick_handler
  // 16
  .word wwdg_irqhandler
  .word pvd_pvm_irqhandler
  .word tamp_stamp_irqhandler
  .word rtc_wkup_irqhandler
  .word flash_irqhandler
  .word rcc_irqhandler
  .word exti0_irqhandler
  .word exti1_irqhandler
  .word exti2_irqhandler
  .word exti3_irqhandler
  .word exti4_irqhandler
  .word dma1_channel1_irqhandler
  .word dma1_channel2_irqhandler
  .word dma1_channel3_irqhandler
  .word dma1_channel4_irqhandler
  .word dma1_channel5_irqhandler
  .word dma1_channel6_irqhandler
  // 32
  .word dma1_channel7_irqhandler
  .word adc1_2_irqhandler
  .word can1_tx_irqhandler
  .word can1_rx0_irqhandler
  .word can1_rx1_irqhandler
  .word can1_sce_irqhandler
  .word exti9_5_irqhandler
  .word tim1_brk_tim15_irqhandler
  .word tim1_up_tim16_irqhandler
  .word tim1_trg_com_tim17_irqhandler
  .word tim1_cc_irqhandler
  .word tim2_irqhandler
  .word tim3_irqhandler
  .word tim4_irqhandler
  .word i2c1_ev_irqhandler
  .word i2c1_er_irqhandler
  // 48
  .word i2c2_ev_irqhandler
  .word i2c2_er_irqhandler
  .word spi1_irqhandler
  .word spi2_irqhandler
  .word usart1_irqhandler
  .word usart2_irqhandler
  .word usart3_irqhandler
  .word exti15_10_irqhandler
  .word rtc_alarm_irqhandler
  .word dfsdm1_flt3_irqhandler
  .word tim8_brk_irqhandler
  .word tim8_up_irqhandler
  .word tim8_trg_com_irqhandler
  .word tim8_cc_irqhandler
  .word adc3_irqhandler
  .word fmc_irqhandler
  // 64
  .word sdmmc1_irqhandler
  .word tim5_irqhandler
  .word spi3_irqhandler
  .word uart4_irqhandler
  .word uart5_irqhandler
  .word tim6_dac_irqhandler
  .word tim7_irqhandler
  .word dma2_channel1_irqhandler
  .word dma2_channel2_irqhandler
  .word dma2_channel3_irqhandler
  .word dma2_channel4_irqhandler
  .word dma2_channel5_irqhandler
  .word dfsdm1_flt0_irqhandler
  .word dfsdm1_flt1_irqhandler
  .word dfsdm1_flt2_irqhandler
  .word comp_irqhandler
  // 80
  .word lptim1_irqhandler
  .word lptim2_irqhandler
  .word otg_fs_irqhandler
  .word dma2_channel6_irqhandler
  .word dma2_channel7_irqhandler
  .word lpuart1_irqhandler
  .word quadspi_irqhandler
  .word i2c3_ev_irqhandler
  .word i2c3_er_irqhandler
  .word sai1_irqhandler
  .word sai2_irqhandler
  .word swpmi1_irqhandler
  .word tsc_irqhandler
  .word lcd_irqhandler
  .word 0
  .word rng_irqhandler
  // 96
  .word fpu_irqhandler
  .word crs_irqhandler
  .word i2c4_ev_irqhandler
  .word i2c4_er_irqhandler
  .word dcmi_irqhandler
  .word can2_tx_irqhandler
  .word can2_rx0_irqhandler
  .word can2_rx1_irqhandler
  .word can2_sce_irqhandler
  .word dma2d_irqhandler  

  // weak aliases
  .weak nmi_handler
  .thumb_set nmi_handler,default_interrupt_handler
  .weak hardfault_handler
  .thumb_set hardfault_handler,default_interrupt_handler
  .weak memmanage_handler
  .thumb_set memmanage_handler,default_interrupt_handler
  .weak busfault_handler
  .thumb_set busfault_handler,default_interrupt_handler
  .weak usagefault_handler
  .thumb_set usagefault_handler,default_interrupt_handler
  .weak svc_handler
  .thumb_set svc_handler,default_interrupt_handler
  .weak debugmon_handler
  .thumb_set debugmon_handler,default_interrupt_handler
  .weak pendsv_handler
  .thumb_set pendsv_handler,default_interrupt_handler
  .weak systick_handler
  .thumb_set systick_handler,default_interrupt_handler
  .weak wwdg_irqhandler
  .thumb_set wwdg_irqhandler,default_interrupt_handler
  .weak pvd_pvm_irqhandler
  .thumb_set pvd_pvm_irqhandler,default_interrupt_handler
  .weak tamp_stamp_irqhandler
  .thumb_set tamp_stamp_irqhandler,default_interrupt_handler
  .weak rtc_wkup_irqhandler
  .thumb_set rtc_wkup_irqhandler,default_interrupt_handler
  .weak flash_irqhandler
  .thumb_set flash_irqhandler,default_interrupt_handler
  .weak rcc_irqhandler
  .thumb_set rcc_irqhandler,default_interrupt_handler
  .weak exti0_irqhandler
  .thumb_set exti0_irqhandler,default_interrupt_handler
  .weak exti1_irqhandler
  .thumb_set exti1_irqhandler,default_interrupt_handler
  .weak exti2_irqhandler
  .thumb_set exti2_irqhandler,default_interrupt_handler
  .weak exti3_irqhandler
  .thumb_set exti3_irqhandler,default_interrupt_handler
  .weak exti4_irqhandler
  .thumb_set exti4_irqhandler,default_interrupt_handler
  .weak dma1_channel1_irqhandler
  .thumb_set dma1_channel1_irqhandler,default_interrupt_handler
  .weak dma1_channel2_irqhandler
  .thumb_set dma1_channel2_irqhandler,default_interrupt_handler
  .weak dma1_channel3_irqhandler
  .thumb_set dma1_channel3_irqhandler,default_interrupt_handler
  .weak dma1_channel4_irqhandler
  .thumb_set dma1_channel4_irqhandler,default_interrupt_handler
  .weak dma1_channel5_irqhandler
  .thumb_set dma1_channel5_irqhandler,default_interrupt_handler
  .weak dma1_channel6_irqhandler
  .thumb_set dma1_channel6_irqhandler,default_interrupt_handler
  .weak dma1_channel7_irqhandler
  .thumb_set dma1_channel7_irqhandler,default_interrupt_handler
  .weak adc1_2_irqhandler
  .thumb_set adc1_2_irqhandler,default_interrupt_handler
  .weak can1_tx_irqhandler
  .thumb_set can1_tx_irqhandler,default_interrupt_handler
  .weak can1_rx0_irqhandler
  .thumb_set can1_rx0_irqhandler,default_interrupt_handler
  .weak can1_rx1_irqhandler
  .thumb_set can1_rx1_irqhandler,default_interrupt_handler
  .weak can1_sce_irqhandler
  .thumb_set can1_sce_irqhandler,default_interrupt_handler
  .weak exti9_5_irqhandler
  .thumb_set exti9_5_irqhandler,default_interrupt_handler
  .weak tim1_brk_tim15_irqhandler
  .thumb_set tim1_brk_tim15_irqhandler,default_interrupt_handler
  .weak tim1_up_tim16_irqhandler
  .thumb_set tim1_up_tim16_irqhandler,default_interrupt_handler
  .weak tim1_trg_com_tim17_irqhandler
  .thumb_set tim1_trg_com_tim17_irqhandler,default_interrupt_handler
  .weak tim1_cc_irqhandler
  .thumb_set tim1_cc_irqhandler,default_interrupt_handler
  .weak tim2_irqhandler
  .thumb_set tim2_irqhandler,default_interrupt_handler
  .weak tim3_irqhandler
  .thumb_set tim3_irqhandler,default_interrupt_handler
  .weak tim4_irqhandler
  .thumb_set tim4_irqhandler,default_interrupt_handler
  .weak i2c1_ev_irqhandler
  .thumb_set i2c1_ev_irqhandler,default_interrupt_handler
  .weak i2c1_er_irqhandler
  .thumb_set i2c1_er_irqhandler,default_interrupt_handler
  .weak i2c2_ev_irqhandler
  .thumb_set i2c2_ev_irqhandler,default_interrupt_handler
  .weak i2c2_er_irqhandler
  .thumb_set i2c2_er_irqhandler,default_interrupt_handler
  .weak spi1_irqhandler
  .thumb_set spi1_irqhandler,default_interrupt_handler
  .weak spi2_irqhandler
  .thumb_set spi2_irqhandler,default_interrupt_handler
  .weak usart1_irqhandler
  .thumb_set usart1_irqhandler,default_interrupt_handler
  .weak usart2_irqhandler
  .thumb_set usart2_irqhandler,default_interrupt_handler
  .weak usart3_irqhandler
  .thumb_set usart3_irqhandler,default_interrupt_handler
  .weak exti15_10_irqhandler
  .thumb_set exti15_10_irqhandler,default_interrupt_handler
  .weak rtc_alarm_irqhandler
  .thumb_set rtc_alarm_irqhandler,default_interrupt_handler
  .weak dfsdm1_flt3_irqhandler
  .thumb_set dfsdm1_flt3_irqhandler,default_interrupt_handler
  .weak tim8_brk_irqhandler
  .thumb_set tim8_brk_irqhandler,default_interrupt_handler
  .weak tim8_up_irqhandler
  .thumb_set tim8_up_irqhandler,default_interrupt_handler
  .weak tim8_trg_com_irqhandler
  .thumb_set tim8_trg_com_irqhandler,default_interrupt_handler
  .weak tim8_cc_irqhandler
  .thumb_set tim8_cc_irqhandler,default_interrupt_handler
  .weak adc3_irqhandler
  .thumb_set adc3_irqhandler,default_interrupt_handler
  .weak fmc_irqhandler
  .thumb_set fmc_irqhandler,default_interrupt_handler
  .weak sdmmc1_irqhandler
  .thumb_set sdmmc1_irqhandler,default_interrupt_handler
  .weak tim5_irqhandler
  .thumb_set tim5_irqhandler,default_interrupt_handler
  .weak spi3_irqhandler
  .thumb_set spi3_irqhandler,default_interrupt_handler
  .weak uart4_irqhandler
  .thumb_set uart4_irqhandler,default_interrupt_handler
  .weak uart5_irqhandler
  .thumb_set uart5_irqhandler,default_interrupt_handler
  .weak tim6_dac_irqhandler
  .thumb_set tim6_dac_irqhandler,default_interrupt_handler
  .weak tim7_irqhandler
  .thumb_set tim7_irqhandler,default_interrupt_handler
  .weak dma2_channel1_irqhandler
  .thumb_set dma2_channel1_irqhandler,default_interrupt_handler
  .weak dma2_channel2_irqhandler
  .thumb_set dma2_channel2_irqhandler,default_interrupt_handler
  .weak dma2_channel3_irqhandler
  .thumb_set dma2_channel3_irqhandler,default_interrupt_handler
  .weak dma2_channel4_irqhandler
  .thumb_set dma2_channel4_irqhandler,default_interrupt_handler
  .weak dma2_channel5_irqhandler
  .thumb_set dma2_channel5_irqhandler,default_interrupt_handler
  .weak dfsdm1_flt0_irqhandler
  .thumb_set dfsdm1_flt0_irqhandler,default_interrupt_handler 
  .weak dfsdm1_flt1_irqhandler
  .thumb_set dfsdm1_flt1_irqhandler,default_interrupt_handler 
  .weak dfsdm1_flt2_irqhandler
  .thumb_set dfsdm1_flt2_irqhandler,default_interrupt_handler 
  .weak comp_irqhandler
  .thumb_set comp_irqhandler,default_interrupt_handler
  .weak lptim1_irqhandler
  .thumb_set lptim1_irqhandler,default_interrupt_handler
  .weak lptim2_irqhandler
  .thumb_set lptim2_irqhandler,default_interrupt_handler  
  .weak otg_fs_irqhandler
  .thumb_set otg_fs_irqhandler,default_interrupt_handler  
  .weak dma2_channel6_irqhandler
  .thumb_set dma2_channel6_irqhandler,default_interrupt_handler 
  .weak dma2_channel7_irqhandler
  .thumb_set dma2_channel7_irqhandler,default_interrupt_handler 
  .weak lpuart1_irqhandler
  .thumb_set lpuart1_irqhandler,default_interrupt_handler 
  .weak quadspi_irqhandler
  .thumb_set quadspi_irqhandler,default_interrupt_handler 
  .weak i2c3_ev_irqhandler
  .thumb_set i2c3_ev_irqhandler,default_interrupt_handler 
  .weak i2c3_er_irqhandler
  .thumb_set i2c3_er_irqhandler,default_interrupt_handler 
  .weak sai1_irqhandler
  .thumb_set sai1_irqhandler,default_interrupt_handler
  .weak sai2_irqhandler
  .thumb_set sai2_irqhandler,default_interrupt_handler
  .weak swpmi1_irqhandler
  .thumb_set swpmi1_irqhandler,default_interrupt_handler
  .weak tsc_irqhandler
  .thumb_set tsc_irqhandler,default_interrupt_handler
  .weak lcd_irqhandler
  .thumb_set lcd_irqhandler,default_interrupt_handler
  .weak rng_irqhandler
  .thumb_set rng_irqhandler,default_interrupt_handler
  .weak fpu_irqhandler
  .thumb_set fpu_irqhandler,default_interrupt_handler
  .weak crs_irqhandler
  .thumb_set crs_irqhandler,default_interrupt_handler 
  .weak i2c4_ev_irqhandler
  .thumb_set i2c4_ev_irqhandler,default_interrupt_handler
  .weak i2c4_er_irqhandler
  .thumb_set i2c4_er_irqhandler,default_interrupt_handler
  .weak dcmi_irqhandler
  .thumb_set dcmi_irqhandler,default_interrupt_handler
  .weak can2_tx_irqhandler
  .thumb_set can2_tx_irqhandler,default_interrupt_handler
  .weak can2_rx0_irqhandler
  .thumb_set can2_rx0_irqhandler,default_interrupt_handler
  .weak can2_rx1_irqhandler
  .thumb_set can2_rx1_irqhandler,default_interrupt_handler
  .weak can2_sce_irqhandler
  .thumb_set can2_sce_irqhandler,default_interrupt_handler
  .weak dma2d_irqhandler
  .thumb_set fpu_irqhandler,default_interrupt_handler
.size vtable, .-vtable

.section .text.default_interrupt_handler,"ax",%progbits
default_interrupt_handler:
  default_interrupt_loop:
    B default_interrupt_loop
.size default_interrupt_handler, .-default_interrupt_handler
